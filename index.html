<!DOCTYPE html>
<html>
<head>
	<title>Rock Paper scissors!</title>
	<script type="text/javascript">
		var options = ["rock", "paper", "scissors"]
		function computerPlay() {
			var result = options[Math.floor(Math.random()*options.length)];
			return result;
		}
		function playRound(playerSelection, computerSelection) {
			playerSelection = playerSelection.toLowerCase();
			computerSelection = computerSelection.toLowerCase();
			console.log(playerSelection);
			console.log(computerSelection);
			if (playerSelection == "rock" && computerSelection == "rock") {
				return 2;
			} else if (playerSelection == "rock" && computerSelection == "paper") {
					return 0;
			} else if (playerSelection == "rock" && computerSelection == "scissors"){
					return 1;
			} else if (playerSelection == "paper" && computerSelection == "scissors") {
					return 0;
			} else if (playerSelection == "paper" && computerSelection == "rock") {
					return 1;
			} else if (playerSelection == "scissors" && computerSelection == "rock") {
					return 0;
			} else if (playerSelection == "scissors" && computerSelection == "paper") {
					return 1;
			}
			else {
				return "Error!"
			}
		}
		function validateUserChoice(userChoice) {
		  userChoice = userChoice.toLowerCase();
		  if (userChoice !== "rock" && userChoice !== "paper" && userChoice !== "scissors") {
      		alert("You can only select rock, paper or scissors!");
      		return false;
    	}
		};
		
		function game(rounds) {
			var playerScore = 0;
			var computerScore = 0;	
			for (var i = 0; i < rounds; i++) {
				while (true) {
					var playerInput = window.prompt("Rock, paper, scissors. What do you chose!?")
					validateUserChoice(playerInput);
					break;
				}
				if (playRound(playerInput, computerPlay()) > 0) {
					console.log("You win this round!")
					playerScore ++;
				} else if (playRound(playerInput, computerPlay()) < 1) {
						console.log("You lose this round!")
						computerScore ++;
				}	else console.log("Draw! You can't even beat a computer?!")
				}
			console.log(playerScore) 
			if (playerScore > computerScore) {
				console.log("You are the winner! Congratulations!")
			} else console.log("You are the loser! The machines have beaten us!")
			}
	</script>
</head>
<body>

</body>
</html>